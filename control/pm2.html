<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><!--This file has been created with freeplane2html.xsl--><head><title>pm2</title><link rel="stylesheet" href="pm2.html_files/freeplane2html.css" type="text/css" /><meta name="generator" content="Freeplane-XSL Stylesheet (see: http://freeplane-xsl.dev.slash-me.net/ for details)" /><script type="text/javascript" src="pm2.html_files/freeplane2html.js">Â 
	</script><script type="text/javascript"><!--
          
               function toggle(id)
               {
                   div_el = document.getElementById(id);
                   img_el = document.getElementById('img'+id);
                   if (div_el.style.display != 'none')
                   {
          

                      div_el.style.display='none';
                      img_el.src = 'pm2.html_files/show.png';
          
                   }
                   else
                   {
          
                      div_el.style.display='block';
                      img_el.src = 'pm2.html_files/hide.png';
          
                   };
               };
          
          --></script></head><body><h1>pm2</h1><div style="width:96%;  padding:2%;  margin-bottom:10px;  border: 0px;  text-align:center;  vertical-align:center;"><img src="pm2.html_files/image.png" style="margin-bottom:10px; &#9;border: 0px; &#9;text-align:center; &#9;vertical-align:center;" alt="Imagemap" usemap="#fm_imagemap" /></div><map name="fm_imagemap" id="fm_imagemap"><area shape="rect" href="index.html" alt="pm2" title="pm2" coords="197,368,304,411" />
<area shape="rect" href="#FMID_487079343FM" alt="docs" title="docs" coords="323,380,377,398" />
<area shape="rect" href="#FMID_900973335FM" alt="process metrics" title="process metrics" coords="396,378,506,396" />
<area shape="rect" href="http://pm2.keymetrics.io/docs/usage/process-metrics/" alt="http://pm2.keymetrics.io/docs/usage/proc ..." title="http://pm2.keymetrics.io/docs/usage/proc ..." coords="525,50,898,68" />
<area shape="rect" href="#FMID_678567086FM" alt="By plugging process metrics onto your co ..." title="By plugging process metrics onto your co ..." coords="525,71,903,106" />
<area shape="rect" href="#FMID_1695326367FM" alt="npm install @pm2/io --save" title="npm install @pm2/io --save" coords="525,111,712,129" />
<area shape="rect" href="https://github.com/keymetrics/pm2-io-apm#table-of-contents" alt="https://github.com/keymetrics/pm2-io-apm ..." title="https://github.com/keymetrics/pm2-io-apm ..." coords="731,109,1157,127" />
<area shape="rect" href="#FMID_957320116FM" alt="example : requests per minute" title="example : requests per minute" coords="525,253,735,271" />
<area shape="rect" href="#FMID_1209256034FM" alt="var io = require('@pm2/io')
var http = r ..." title="var io = require('@pm2/io')
var http = r ..." coords="754,132,1090,388" />
<area shape="rect" href="#FMID_1434474167FM" alt="pm2 monit" title="pm2 monit" coords="525,418,602,436" />
<area shape="rect" href="#FMID_1004534754FM" alt="png_3689265995366008317.png" title="png_3689265995366008317.png" coords="621,391,1558,460" />
<area shape="rect" href="#FMID_1770063499FM" alt="pm2 show &lt;application-name&gt;" title="pm2 show &lt;application-name&gt;" coords="525,463,740,481" />
<area shape="rect" href="#FMID_421325793FM" alt="types" title="types" coords="525,591,566,609" />
<area shape="rect" href="#FMID_1318613032FM" alt="Simple metrics: Values that can be read  ..." title="Simple metrics: Values that can be read  ..." coords="585,484,963,519" />
<area shape="rect" href="#FMID_1571901881FM" alt="eg. Monitor variable value" title="eg. Monitor variable value" coords="585,522,763,540" />
<area shape="rect" href="#FMID_1851610633FM" alt="Counter: Things that increment or decrem ..." title="Counter: Things that increment or decrem ..." coords="585,543,952,561" />
<area shape="rect" href="#FMID_1292077045FM" alt="eg. Downloads being processed, user conn ..." title="eg. Downloads being processed, user conn ..." coords="585,564,913,582" />
<area shape="rect" href="#FMID_295876030FM" alt="Meter: Things that are measured as event ..." title="Meter: Things that are measured as event ..." coords="585,585,963,620" />
<area shape="rect" href="#FMID_13819060FM" alt="eg. Request per minute for a http server" title="eg. Request per minute for a http server" coords="585,623,859,641" />
<area shape="rect" href="#FMID_864406459FM" alt="Histogram: Keeps a resevoir of statistic ..." title="Histogram: Keeps a resevoir of statistic ..." coords="585,644,963,696" />
<area shape="rect" href="#FMID_376366913FM" alt="eg. Monitor the mean of execution of a q ..." title="eg. Monitor the mean of execution of a q ..." coords="585,699,963,717" />
<area shape="rect" href="#FMID_1808490590FM" alt="links" title="links" coords="124,380,178,398" />
<area shape="rect" href="http://pm2.keymetrics.io/" alt="docs" title="docs" coords="50,378,105,396" />
</map>

<div class="node"><img src="pm2.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N65543&quot;)" id="imgN65543" /><a id="FMID_1135581778FM" /><div class="nodecontent" style="color:#000000;font-size:150%;"><a href="index.html">pm2</a> <a href="index.html"><img src="pm2.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div><div class="content" id="N65543"><div class="node"><img src="pm2.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N66440&quot;)" id="imgN66440" /><img src="pm2.html_files/icons/bookmark.svg" alt="bookmark" /> <a id="FMID_487079343FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">docs</div><div class="content" id="N66440"><div class="node"><img src="pm2.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N66481&quot;)" id="imgN66481" /><a id="FMID_900973335FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">process metrics</div><div class="content" id="N66481"><div class="node"><img src="pm2.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_693011660FM" /><div class="nodecontent" style="color:#000000;font-size:83%;"><a href="http://pm2.keymetrics.io/docs/usage/process-metrics/">
    <a http-equiv="content-type" content="text/html; charset=utf-8" href="http://pm2.keymetrics.io/docs/usage/process-metrics/">http://pm2.keymetrics.io/docs/usage/process-metrics/</a>
  </a> <a href="http://pm2.keymetrics.io/docs/usage/process-metrics/"><img src="pm2.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div></div><div class="node"><img src="pm2.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_678567086FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">By plugging process metrics onto your code, you will be able to monitor in-code values, in realtime.</div></div><div class="node"><img src="pm2.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N66607&quot;)" id="imgN66607" /><a id="FMID_1695326367FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">npm install @pm2/io --save</div><div class="content" id="N66607"><div class="node"><img src="pm2.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_373860647FM" /><div class="nodecontent" style="color:#000000;font-size:83%;"><a href="https://github.com/keymetrics/pm2-io-apm#table-of-contents">
    <a http-equiv="content-type" content="text/html; charset=utf-8" href="https://github.com/keymetrics/pm2-io-apm#table-of-contents">https://github.com/keymetrics/pm2-io-apm#table-of-contents</a>
  </a> <a href="https://github.com/keymetrics/pm2-io-apm#table-of-contents"><img src="pm2.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div></div></div></div><div class="node"><img src="pm2.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N66698&quot;)" id="imgN66698" /><a id="FMID_957320116FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">example : requests per minute</div><div class="content" id="N66698"><div class="node"><img src="pm2.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1209256034FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">var io = require('@pm2/io')<br />var http = require('http')<br /><br />var meter = io.meter({<br />  name      : 'req/min',<br />  samples   : 1,<br />  timeframe : 60<br />})<br /><br />http.createServer(function (req, res) {<br />  meter.mark()<br />  res.writeHead(200, {'Content-Type': 'text/plain'})<br />  res.write('Hello World!')<br />  res.end()<br />}).listen(6001)</div></div></div></div><div class="node"><img src="pm2.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N66770&quot;)" id="imgN66770" /><a id="FMID_1434474167FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">pm2 monit</div><div class="content" id="N66770"><div class="node"><img src="pm2.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1004534754FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">png_3689265995366008317.png</div></div></div></div><div class="node"><img src="pm2.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1770063499FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">pm2 show &lt;application-name&gt;</div></div><div class="node"><img src="pm2.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N66883&quot;)" id="imgN66883" /><a id="FMID_421325793FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">types</div><div class="content" id="N66883"><div class="node"><img src="pm2.html_files/leaf.png" class="hideshow" alt="leaf" /><img src="pm2.html_files/icons/full-1.svg" alt="full-1" /> <a id="FMID_1318613032FM" /><div class="nodecontent" style="color:#000000;font-size:83%;font-weight:bold;">Simple metrics: Values that can be read instantly</div></div><div class="node"><img src="pm2.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N66959&quot;)" id="imgN66959" /><a id="FMID_1571901881FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">eg. Monitor variable value</div><div class="content" id="N66959"><div class="node"><img src="pm2.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_796376397FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">var io = require('@pm2/io')<br /><br />// Here the value function will be called each second to get the value<br />var metric = io.metric({<br />  name    : 'Realtime user',<br />  value   : function() {<br />    return Object.keys(users).length<br />  }<br />})<br /><br />// Here we are going to call valvar.set() to set the new value<br />var valvar = io.metric({<br />  name    : 'Realtime Value'<br />})<br /><br />valvar.set(23)</div></div></div></div><div class="node"><img src="pm2.html_files/leaf.png" class="hideshow" alt="leaf" /><img src="pm2.html_files/icons/full-2.svg" alt="full-2" /> <a id="FMID_1851610633FM" /><div class="nodecontent" style="color:#000000;font-size:83%;font-weight:bold;">Counter: Things that increment or decrement</div></div><div class="node"><img src="pm2.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N67073&quot;)" id="imgN67073" /><a id="FMID_1292077045FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">eg. Downloads being processed, user connected</div><div class="content" id="N67073"><div class="node"><img src="pm2.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1297312938FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">var io = require('@pm2/io')<br />var http = require('http')<br /><br />var counter = io.counter({<br />  name : 'Active requests'<br />})<br /><br />http.createServer(function (req, res) {<br />  counter.inc()<br /><br />  req.on('end', function() {<br />    // Decrement the counter, counter will eq 0                                                                                                                                                                     <br />    counter.dec()<br />  })<br />  res.writeHead(200, {'Content-Type': 'text/plain'})<br />  res.write('Hello World!')<br />  res.end()<br />}).listen(6001)</div></div></div></div><div class="node"><img src="pm2.html_files/leaf.png" class="hideshow" alt="leaf" /><img src="pm2.html_files/icons/full-3.svg" alt="full-3" /> <a id="FMID_295876030FM" /><div class="nodecontent" style="color:#000000;font-size:83%;font-weight:bold;">Meter: Things that are measured as events / interval</div></div><div class="node"><img src="pm2.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N67187&quot;)" id="imgN67187" /><a id="FMID_13819060FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">eg. Request per minute for a http server</div><div class="content" id="N67187"><div class="node"><img src="pm2.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_129017891FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">var io = require('@pm2/io')<br />var http = require('http')<br /><br />var meter = io.meter({<br />  name      : 'req/min',<br />  samples   : 1,<br />  timeframe : 60<br />})<br /><br />http.createServer(function (req, res) {<br />  meter.mark()<br />  res.writeHead(200, {'Content-Type': 'text/plain'})<br />  res.write('Hello World!')<br />  res.end()<br />}).listen(6001)</div></div></div></div><div class="node"><img src="pm2.html_files/leaf.png" class="hideshow" alt="leaf" /><img src="pm2.html_files/icons/full-4.svg" alt="full-4" /> <a id="FMID_864406459FM" /><div class="nodecontent" style="color:#000000;font-size:83%;font-weight:bold;">Histogram: Keeps a resevoir of statistically relevant values biased towards the last 5 minutes to explore their distribution</div></div><div class="node"><img src="pm2.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N67301&quot;)" id="imgN67301" /><a id="FMID_376366913FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">eg. Monitor the mean of execution of a query into databa</div><div class="content" id="N67301"><div class="node"><img src="pm2.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_440842240FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">var io = require('@pm2/io')<br /><br />var histogram = io.histogram({<br />  name        : 'latency',<br />  measurement : 'mean'<br />})<br /><br />var latency = 0<br /><br />setInterval(function() {<br />  latency = Math.round(Math.random() * 100)<br />  histogram.update(latency)<br />}, 100)</div></div></div></div></div></div></div></div></div></div><div class="node"><img src="pm2.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N67377&quot;)" id="imgN67377" /><img src="pm2.html_files/icons/attach.svg" alt="attach" /> <a id="FMID_1808490590FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">links</div><div class="content" id="N67377"><div class="node"><img src="pm2.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1514636808FM" /><div class="nodecontent" style="color:#000000;font-size:83%;"><a href="http://pm2.keymetrics.io/">docs</a> <a href="http://pm2.keymetrics.io/"><img src="pm2.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div></div></div></div></div></div>
</body></html>